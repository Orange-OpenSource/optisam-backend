// Code generated by sqlc. DO NOT EDIT.
// source: query.sql

package db

import (
	"context"
	"encoding/json"
)

const publishToDLQ = `-- name: PublishToDLQ :exec
INSERT INTO dead_letter_queue(
    topic,
    no_of_retries,
    message
) VALUES(
    $1,
    $2,
    $3
)
`

type PublishToDLQParams struct {
	Topic       string          `json:"topic"`
	NoOfRetries int32           `json:"no_of_retries"`
	Message     json.RawMessage `json:"message"`
}

func (q *Queries) PublishToDLQ(ctx context.Context, arg PublishToDLQParams) error {
	_, err := q.db.ExecContext(ctx, publishToDLQ, arg.Topic, arg.NoOfRetries, arg.Message)
	return err
}
