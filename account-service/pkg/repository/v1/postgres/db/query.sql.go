// Copyright (C) 2019 Orange
// 
// This software is distributed under the terms and conditions of the 'Apache License 2.0'
// license which can be found in the file 'License.txt' in this package distribution 
// or at 'http://www.apache.org/licenses/LICENSE-2.0'. 

// Code generated by sqlc. DO NOT EDIT.
// source: query.sql

package db

import (
	"context"
	"database/sql"
	"time"
)

const deleteUser = `-- name: DeleteUser :exec
DELETE FROM users
WHERE username = $1
`

func (q *Queries) DeleteUser(ctx context.Context, userID string) error {
	_, err := q.db.ExecContext(ctx, deleteUser, userID)
	return err
}

const insertUserAudit = `-- name: InsertUserAudit :exec
INSERT INTO users_audit(
  username,first_name,last_name,role,locale,cont_failed_login,created_on,last_login,operation,updated_by)
  VALUES($1,$2,$3,$4,$5,$6,$7,$8,$9,$10)
`

type InsertUserAuditParams struct {
	Username        string       `json:"username"`
	FirstName       string       `json:"first_name"`
	LastName        string       `json:"last_name"`
	Role            string       `json:"role"`
	Locale          string       `json:"locale"`
	ContFailedLogin int16        `json:"cont_failed_login"`
	CreatedOn       time.Time    `json:"created_on"`
	LastLogin       sql.NullTime `json:"last_login"`
	Operation       AuditStatus  `json:"operation"`
	UpdatedBy       string       `json:"updated_by"`
}

func (q *Queries) InsertUserAudit(ctx context.Context, arg InsertUserAuditParams) error {
	_, err := q.db.ExecContext(ctx, insertUserAudit,
		arg.Username,
		arg.FirstName,
		arg.LastName,
		arg.Role,
		arg.Locale,
		arg.ContFailedLogin,
		arg.CreatedOn,
		arg.LastLogin,
		arg.Operation,
		arg.UpdatedBy,
	)
	return err
}
